<div class="bg-white mb-2 flex flex-col gap-2 rounded-2xl overflow-hidden border border-primary">
	<div class="bg-primary text-white flex justify-between p-4 items-center">
		<p class="m-0! font-semibold">{{ item().name }}</p>
		<div class="bg-white rounded-full w-6 h-6 text-primary grid place-items-center">
			<button (click)="op.toggle($event)" type="button"><i class="pi pi-info"></i></button>
		</div>
	</div>
	<div class="p-4 flex gap-10 items-center">
		<img
			[src]="baseImageUrl + '/' + item().uuid + '.png'"
			class="place-self-center w-full max-w-36 h-36 object-contain"
		/>

		<div class="flex flex-col justify-center gap-6">
			<div class="flex justify-center gap-6">
				@if (isSideVisible() && !item().isAdded) {
					<p-button
						(onClick)="onToggleMapClick('left')"
						[label]="item().isAdded ? 'Eliminar' : 'Izquierda'"
						[severity]="item().isAdded ? 'danger' : 'primary'"
					></p-button>

					<p-button
						(onClick)="onToggleMapClick('right')"
						[label]="item().isAdded ? 'Eliminar' : 'Derecha'"
						[severity]="item().isAdded ? 'danger' : 'primary'"
					></p-button>
				} @else {
					<p-button
						(onClick)="onToggleMapClick()"
						[label]="item().isAdded ? 'Eliminar' : 'Agregar'"
						[severity]="item().isAdded ? 'danger' : 'primary'"
					></p-button>
				}

				@if (item().allowDownload && (item().bbox || item().bboxImage)) {
					<p-button
						icon="pi pi-download"
						severity="success"
						[rounded]="true"
						(onClick)="onDownloadMapClick()"
						type="button"
					>
					</p-button>
				}
			</div>

			@if (item().isAdded) {
				<div>
					<p class="text-center">Nivel de Opacidad</p>
					<p-slider
						styleClass="w-56"
						[step]="0.1"
						[max]="1"
						[min]="0"
						[(ngModel)]="item().opacity"
						[ngModelOptions]="{ standalone: true }"
						(onChange)="onChangeMapOpacity($event)"
					></p-slider>
				</div>
			}
		</div>
	</div>
</div>

<p-popover #op>
	<div class="max-w-64">
		<p><b>Nombre: </b>{{ item().name }}</p>
		<p><b>Descripci√≥n: </b>{{ item().description }}</p>
		<p><b>Estilo: </b>{{ item().style?.name }}</p>
	</div>
</p-popover>
